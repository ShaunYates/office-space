<ion-card class="ion-margin-bottom">
  <ion-card-header>
    <ion-row class="ion-justify-content-center">
      <ion-card-title class="ion-padding-end">
        {{ company.name }}
      </ion-card-title>
      <a *ngIf="showView" (click)="viewOffice.emit()"
        ><ion-icon
          name="arrow-forward-outline"
          class="company-details-icon"
        ></ion-icon
      ></a>
    </ion-row>
  </ion-card-header>
  <ion-card-content>
    <ion-item lines="none">
      <ion-icon
        name="people-circle-outline"
        color="tertiary"
        class="ion-padding-end company-details-icon"
      ></ion-icon>
      <ion-skeleton-text
        *ngIf="loading"
        animated
        style="width: 30%"
      ></ion-skeleton-text>
      <p *ngIf="!loading">{{ numberOfStaff }} Staff Members in Office</p>
    </ion-item>

    <ion-item-divider class="ion-margin-bottom"></ion-item-divider>

    <ion-row *ngIf="!toggle" class="ion-justify-content-center">
      <p class="ion-padding-end">More info</p>
      <a (click)="toggleInfo()"
        ><ion-icon
          name="chevron-down-outline"
          color="primary"
          class="company-details-icon"
        ></ion-icon
      ></a>
    </ion-row>

    <ng-container *ngIf="toggle">
      <ion-row class="ion-justify-content-center">
        <p class="ion-padding-end">Less info</p>
        <a (click)="toggleInfo()"
          ><ion-icon
            name="chevron-up-outline"
            color="primary"
            class="company-details-icon"
          ></ion-icon
        ></a>
      </ion-row>

      <ng-template [ngTemplateOutlet]="companyDetails"></ng-template>
    </ng-container>
  </ion-card-content>
</ion-card>

<ng-template #companyDetails>
  <ion-item lines="none">
    <ion-icon
      name="call-outline"
      color="primary"
      class="ion-padding-end company-details-icon"
    ></ion-icon>
    <p>{{ company.phoneNumber }}</p>
  </ion-item>
  <ion-item lines="none">
    <ion-icon
      name="mail-outline"
      color="primary"
      class="ion-padding-end company-details-icon"
    ></ion-icon>
    <p>{{ company.email }}</p>
  </ion-item>
  <ion-item lines="none">
    <ion-icon
      name="people-outline"
      color="primary"
      class="ion-padding-end company-details-icon"
    ></ion-icon>
    <p>Office capacity: {{ company.capacity }}</p>
  </ion-item>
  <ion-item lines="none">
    <ion-icon
      name="location-outline"
      color="primary"
      class="ion-padding-end company-details-icon"
    ></ion-icon>
    <p>{{ company.address }}</p>
  </ion-item>
</ng-template>
